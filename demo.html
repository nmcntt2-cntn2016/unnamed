<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <title>Bootstrap 101 Template</title>

    <!-- Bootstrap -->
    <link href="css/bootstrap.min.css" rel="stylesheet">
    <title>SwiftCHEM</title>
<style>
body  {
    background-image: url("http://i.imgur.com/AgtsKm8.jpg");
      background-position: center center;
background-repeat: no-repeat;
  background-attachment: fixed;
  background-size: cover;
  background-color: #464646;

}
.buttona {
    background-color: white;/* Green */
    border: none;
    color: #4CAF50;
    padding: 15px 32px;
    text-align: center;
    text-decoration: none;
    display: inline-block;
    font-size: 16px;
    display: inline;
-webkit-transition-duration: 0.4s; /* Safari */
    transition-duration: 0.4s;
   border: 2px solid #4CAF50;
   border-radius: 4px;
}
.buttona:hover {
-webkit-transition-duration: 0.4s; /* Safari */
    transition-duration: 0.4s;
    background-color: #4CAF50; /* Green */
    color: white;
}

input[type=text] {
    width: 130px;
    height : 50px;
    box-sizing: border-box;
    border: 0.5px solid #ccc;
    border-radius: 4px;
    font-size: 16px;
    background-color: white;
    padding: 12px 20px 12px 20px;
    -webkit-transition: all 0.2s ease-in-out;
    transition: all 0.2s ease-in-out;

}

input[type=text]:focus {
    padding: 11px 19px 11px 19px;
    border: 1.5px solid #2B90F5;
    -webkit-transition: all 0.2s ease-in-out;
    transition: all 0.2s ease-in-out;
}
/* Tooltip container */
/*.tooltip {
    position: relative;
    display: inline-block;
    border-bottom: 1px dotted black;
}*/


.tooltip-inner {
    max-width: 200px;
    padding: 3px 8px;
    color: black;
    text-align: center;
    text-decoration: none;
    background-color: white;
    border-radius: 4px;
}

.tooltip:hover .tooltiptext {
    visibility: visible;
}

.wrapper {
    /*border:1px solid #000;*/
    display:inline-block;
    position:relative;
}
.RemoveButton {
    background-color:transparent;
    color:red;
    padding: 5px 7px;
    display: inline-block;
    -moz-border-radius: 100px;
    -webkit-border-radius: 100px;
    border-radius: 100px;
    -moz-box-shadow: 0px 0px 2px #888;
    -webkit-box-shadow: 0px 0px 2px #888;
    box-shadow: 0px 0px 2px #888;
}

.InputB {
    padding-right:30px; /* button padding */
}

input::-webkit-calendar-picker-indicator {
  display: none;
}

#main_content {
    background: lightskyblue; /* For browsers that do not support gradients */
    background: -webkit-linear-gradient(lightskyblue,white); /* For Safari 5.1 to 6.0 */
    background: -o-linear-gradient(lightskyblue, white); /* For Opera 11.1 to 12.0 */
    background: -moz-linear-gradient(lightskyblue, white); /* For Firefox 3.6 to 15 */
    background: linear-gradient(lightskyblue, white); /* Standard syntax */
}

.remove-icon {
    top: -14px;
    right: 22px;
}

.result{
    font-size: 15;
    font-size: xx-large;
    text-align: -webkit-center
}

</style>

</style>
  </head>
  <body>

    <div  id="search_form" style="position: absolute; top: 30%; left: 0; right: 0;" >
        <div id="logo" style = "text-align: center"><img src="http://i.imgur.com/sHgQKoD.png"></div>
        <div id = "InputDiv" style = "text-align: center">
            <h2 id="title" style="color: white"> Nhập các chất phản ứng </h2>
            <a href="" onclick="dummy(0);return false;" ><img id="logo2" style= "vertical-align:middle; display: none; width: 200px; height : auto;" src="http://i.imgur.com/sHgQKoD.png"></a>
            <div id="BoxDiv" style="text-align: center; display: inline">
                    <!--<div id="BDiv"class="wrapper" style="text-align: center;">
                        <input type="text" id="InputBox" class="InputB" onkeypress="return runScript(event)" list = "suggestions"/>
                        <span onclick="removeBox(this)" class="glyphicon glyphicon-remove remove-icon"></span>
                    </div>-->

            </div>
            <datalist id="suggestions">
            </datalist>

            <button onclick="addInputBox()"> + </button>
            <button class="buttona" onclick="Click_Search()"> ➦ </button>
        </div>
    <div id="main_content" style = "display : none; width: 100%; height : 600px;" >
	    <h1 style="text-align:center">Kết Quả Là</h1>
        <div style="display: inline; margin-left:auto; margin-right: auto; position:absolute;">
            <div style="display: inline;" id="Result" data-toggle="tooltip" title = "ab" class="result">BaCl2 + </div>
            <div style="display: inline;" id="Result" data-toggle="tooltip" title = "de" class="result">H2SO4 -></div>
            <p  style="display: inline;"id="Result" data-toggle="tooltip" title = "daf" class="result">BaSO4 +</p>
            <p  style="display: inline;" id="Result" data-toggle="tooltip" title = "sdf" class="result">HCl</p>
        </div>
    </div>

    <script src="js/jquery-2.1.4.min.js"></script>
    <script src="js/bootstrap.min.js"></script>

	<script>
        // function chuanhoa(raw_st) {
        //     var res = "";
        //     var i = 0;
        //     while (raw_st[i]==" ") i++;
        //     for ( i; i<raw_st.length; i++)
        //         if ((raw_st[i]==" "||raw_st[i]=="+")&&res[res.length-1]!=" ") res+=" ";
        //         else if (raw_st[i]!=" "&&raw_st[i]!="+"&&raw_st[i]!="-"&&raw_st[i]!=">") res+=raw_st[i];
        //     if (res[res.length-1]!=" ") res+=" ";
        //     return res;
        // }

        function Click_Search() {
            var indexInput = 1;
            var BDivId = 'BDiv' + indexInput;
            var inputId = '#' + BDivId + ' input';
            indexInput++;

            //var result = $("#Result");
            $('[data-toggle="tooltip"]').tooltip();

            var input = $(inputId);
            var inputBoxs = $("#BoxDiv input");
            // Checking
            inputBoxs.each(function(){
                if (this.value.length>0)
                {
                    $('#title').remove();
                    //MOVING
                    div_move = document.getElementById("search_form");
                    logo_move = document.getElementById("logo");
                    logo2 = document.getElementById("logo2");
                    content = document.getElementById("main_content");

                    content.style.display = "block";
                    content.style.position = "absolute";
                    content.style.top = "60px";
                    logo2.style.display = "inline";
                    div_move.style.top = "5px";
                    logo_move.style.display = "none";

                    //result.text("BaCl2 + H2SO4 -> BaSO4 + 2HCl");


                    // SEARCHING
                    // var st = chuanhoa(document.getElementById("_search").value);
                    // var ele = [];
                    // var fir = 0;
                    // for (i = 0 ; i<st.length; i++)
                    //     if (st[i]==' ') {
                    //         ele.push(st.slice(fir,i+1));
                    //         fir = i+1;
                    //     }
                    // document.getElementById("lk_hc").innerHTML = "Các chất có trong input : " + ele;
                }
            })

        }

        function runScript(e) {
            if (e.keyCode == 13) {
                Click_Search();
                return false;
            }
        };

        // function isChemical(){
        //     var
        // }

        function addSuggestion(chats) {
            var parrent = $('#suggestions');
            chats.forEach(function(chat) {
                var appendString = '<option value=' + chat + '>';
                parrent.append(appendString);
            });
        }

        var indexInput = 1;
        function removeBox(self){
            var id = ($(self).parent().attr('id'));
            $('#' + id).remove();
        }

        function addInputBox(){
            var parrent = $('#BoxDiv')

            var BDivId = 'BDiv' + indexInput;
            var inputId = '#' + BDivId + ' input';

            var appendString = '<div id="' + BDivId + '"class="wrapper" style="text-align: center;"><input type="text" id="InputBox" class="InputB" onkeypress="return runScript(event)" list = "suggestions"/><span onclick="removeBox(this)" class="glyphicon glyphicon-remove remove-icon"></span></div>';
            parrent.append(appendString);
            indexInput++;

            var input = $(inputId);
            input.keypress(function(event) {
                if(event.charCode == 40 || event.charCode == 41) return true;
                if(event.charCode >= 33 && event.charCode <= 48 || event.charCode >= 58 && event.charCode <= 64 ||
                event.charCode >= 91 && event.charCode <= 96 ||event.charCode >= 123 && event.charCode <= 126 ) {
                    return false;
                }

                return true;
            });
            var div = $(BDivId);
            var spanSelectString = '#' + BDivId + ' span';
            // div.mouseenter(function() {
            //     $(spanSelectString).show();
            // });

            // input.mouseleave(function() {
            //     $(spanSelectString).hide();
            // });
        }

        $(document).ready(function() {
            addInputBox();

            // Add suggestions
            var chats = ['Na', 'K', 'Ba', 'Li', 'KOH', 'K2SO4', 'KNO3', 'KCl', 'CuSO4', 'CuCl2', 'H2O', 'CaCO3', 'CaSO4', 'BaSO4', 'Ca', 'HCl', 'BaCl2', 'H2SO4'];
            addSuggestion(chats);
            // Add key press event. Preventing other keys.
            var input = $("#BoxDiv input");
            input.keypress(function(event) {
                if(event.charCode == 40 || event.charCode == 41) return true;
                if(event.charCode >= 33 && event.charCode <= 48 || event.charCode >= 58 && event.charCode <= 64 ||
                event.charCode >= 91 && event.charCode <= 96 ||event.charCode >= 123 && event.charCode <= 126 ) {
                    return false;
                }

                return true;
            });

        });


	</script>
  </body>

</html>
